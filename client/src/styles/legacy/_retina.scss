/**
 * This file defines graphics to use on high-DPI screens in the CMS
 *
 * @package framework
 * @subpackage admin
 */

@mixin retina-sprite($sprite) {
	@include sprite($sprite);
	background-position: round(nth($sprite, 1)/2) round(nth($sprite, 2)/2);
	width: round(nth($sprite, 3)/2);
	height: round(nth($sprite, 4)/2);
}

/** ----------------------------------------------------
 * "@2x" media query
 * ---------------------------------------------------- */

@media
	only screen and (-webkit-min-device-pixel-ratio: 2),
	only screen and (   min--moz-device-pixel-ratio: 2),
	only screen and (     -o-min-device-pixel-ratio: 2/1),
	only screen and (        min-device-pixel-ratio: 2),
	only screen and (                min-resolution: 192dpi),
	only screen and (                min-resolution: 2dppx) {

	@mixin retina-sprites-32x32-2x {
		background-image: url('../../images/sprites/sprite-sprites-32x32-2x.png');
		background-size: 30px auto;
	}

	/* Loading spinner */
	.cms-content-loading-spinner {
		background-image: url('../../images/spinner@2x.gif');
		background-size: 43px 43px;
	}

	/* CMS menu */

	/* Sitetree */
	.tree-holder, .cms-tree {
		&.jstree-apple {
			ins {
				background-image: url(../images/sitetree_ss_default_icons@2x.png);
				background-size: 108px 72px;
			}
		}
	}

	/* UI widget "close" button */
	.ui-widget-header {
		a.ui-state-hover {
			.ui-icon-closethick {
				@include retina-sprites-32x32-2x;
				@include retina-sprite($sprites-32x32-2x-dialog-close-over);
			}
		}

		.ui-icon-closethick {
			@include retina-sprites-32x32-2x;
			@include retina-sprite($sprites-32x32-2x-dialog-close);
		}
	}
}
